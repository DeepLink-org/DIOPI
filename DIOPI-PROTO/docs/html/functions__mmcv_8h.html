<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>DIOPI: functions_mmcv.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DIOPI
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">diopi 函数api说明文档</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>文件成员</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全部</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>类</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>文件</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>函数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>类型定义</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dab22b03ddf9f5f10c2a4792744ff9cc.html">diopi</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">functions_mmcv.h 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="diopirt_8h_source.html">diopi/diopirt.h</a>&gt;</code><br/>
</div>
<p><a href="functions__mmcv_8h_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a930efba3434c54b01f8b28c6dd4a2d31"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a930efba3434c54b01f8b28c6dd4a2d31">diopiAssignScoreWithkMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t points, diopiConstTensorHandle_t centers, diopiConstTensorHandle_t scores, diopiConstTensorHandle_t knn_idx, int64_t B, int64_t N, int64_t npoint, int64_t M, int64_t K, int64_t out_dim, int64_t aggregate)</td></tr>
<tr class="memdesc:a930efba3434c54b01f8b28c6dd4a2d31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform weighted sum to generate output features according to scores.  <a href="#a930efba3434c54b01f8b28c6dd4a2d31">更多...</a><br/></td></tr>
<tr class="separator:a930efba3434c54b01f8b28c6dd4a2d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a9ae1f922ca3c1a8528964271eb95a"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a94a9ae1f922ca3c1a8528964271eb95a">diopiAssignScoreWithkBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_points, diopiTensorHandle_t grad_centers, diopiTensorHandle_t grad_scores, diopiConstTensorHandle_t grad_out, diopiConstTensorHandle_t points, diopiConstTensorHandle_t centers, diopiConstTensorHandle_t scores, diopiConstTensorHandle_t knn_idx, int64_t B, int64_t N, int64_t npoint, int64_t M, int64_t K, int64_t out_dim, int64_t aggregate)</td></tr>
<tr class="memdesc:a94a9ae1f922ca3c1a8528964271eb95a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for perform weighted sum to generate output features according to scores.  <a href="#a94a9ae1f922ca3c1a8528964271eb95a">更多...</a><br/></td></tr>
<tr class="separator:a94a9ae1f922ca3c1a8528964271eb95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d4807093fd7ad47a8508a3d40c0fb8"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a79d4807093fd7ad47a8508a3d40c0fb8">diopiBallQueryMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t idx, diopiConstTensorHandle_t center_xyz, diopiConstTensorHandle_t xyz, int64_t B, int64_t N, int64_t npoint, int64_t sample_num, float min_radius, float max_radius)</td></tr>
<tr class="memdesc:a79d4807093fd7ad47a8508a3d40c0fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find nearby points in spherical space.  <a href="#a79d4807093fd7ad47a8508a3d40c0fb8">更多...</a><br/></td></tr>
<tr class="separator:a79d4807093fd7ad47a8508a3d40c0fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd1a10cfd448d4bbb2eaaf8025ddcde"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a9cd1a10cfd448d4bbb2eaaf8025ddcde">diopiStackBallQueryMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t idx, diopiConstTensorHandle_t center_xyz, diopiConstTensorHandle_t center_xyz_batch_cnt, diopiConstTensorHandle_t xyz, diopiConstTensorHandle_t xyz_batch_cnt, float max_radius, int64_t sample_num)</td></tr>
<tr class="memdesc:a9cd1a10cfd448d4bbb2eaaf8025ddcde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find nearby points in spherical space.(Stacked method)  <a href="#a9cd1a10cfd448d4bbb2eaaf8025ddcde">更多...</a><br/></td></tr>
<tr class="separator:a9cd1a10cfd448d4bbb2eaaf8025ddcde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a0cfcaecfdcf5943f95f8a8dc2b5336"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a1a0cfcaecfdcf5943f95f8a8dc2b5336">diopiBboxOverlapsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t ious, diopiConstTensorHandle_t bboxes1, diopiConstTensorHandle_t bboxes2, int64_t mode, int64_t offset, bool aligned)</td></tr>
<tr class="memdesc:a1a0cfcaecfdcf5943f95f8a8dc2b5336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate overlap between two set of bboxes.  <a href="#a1a0cfcaecfdcf5943f95f8a8dc2b5336">更多...</a><br/></td></tr>
<tr class="separator:a1a0cfcaecfdcf5943f95f8a8dc2b5336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34753b468b88b16fe96f4e0e92ba3965"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a34753b468b88b16fe96f4e0e92ba3965">diopiBorderAlignMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiTensorHandle_t argmax_idx, diopiConstTensorHandle_t input, diopiConstTensorHandle_t boxes, int64_t pool_size)</td></tr>
<tr class="memdesc:a34753b468b88b16fe96f4e0e92ba3965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Border align pooling layer.  <a href="#a34753b468b88b16fe96f4e0e92ba3965">更多...</a><br/></td></tr>
<tr class="separator:a34753b468b88b16fe96f4e0e92ba3965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe415540ff598d57b65fe020054d7509"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#abe415540ff598d57b65fe020054d7509">diopiBorderAlignBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t boxes, diopiConstTensorHandle_t argmax_idx, int64_t pool_size)</td></tr>
<tr class="memdesc:abe415540ff598d57b65fe020054d7509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for border align pooling layer.  <a href="#abe415540ff598d57b65fe020054d7509">更多...</a><br/></td></tr>
<tr class="separator:abe415540ff598d57b65fe020054d7509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6f91ca54352393c2677a6d42735b18"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a9b6f91ca54352393c2677a6d42735b18">diopiBoxIouRotatedMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t ious, diopiConstTensorHandle_t bboxes1, diopiConstTensorHandle_t bboxes2, int64_t mode, bool aligned)</td></tr>
<tr class="memdesc:a9b6f91ca54352393c2677a6d42735b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return intersection-over-union (Jaccard index) of boxes(BoxIouRotated).  <a href="#a9b6f91ca54352393c2677a6d42735b18">更多...</a><br/></td></tr>
<tr class="separator:a9b6f91ca54352393c2677a6d42735b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d074db1045543f87e400cbf85272539"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a6d074db1045543f87e400cbf85272539">diopiBoxIouQuadriMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t ious, diopiConstTensorHandle_t bboxes1, diopiConstTensorHandle_t bboxes2, int64_t mode, bool aligned)</td></tr>
<tr class="memdesc:a6d074db1045543f87e400cbf85272539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return intersection-over-union (Jaccard index) of boxes(BoxIouQuadri).  <a href="#a6d074db1045543f87e400cbf85272539">更多...</a><br/></td></tr>
<tr class="separator:a6d074db1045543f87e400cbf85272539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe48f2594212ec3e9c5c68390b29ad75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe48f2594212ec3e9c5c68390b29ad75"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#abe48f2594212ec3e9c5c68390b29ad75">diopiCarafeMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t rfeatures, diopiTensorHandle_t routput, diopiTensorHandle_t rmasks, diopiTensorHandle_t output, diopiConstTensorHandle_t features, diopiConstTensorHandle_t masks, int64_t kernel_size, int64_t group_size, int64_t scale_factor)</td></tr>
<tr class="memdesc:abe48f2594212ec3e9c5c68390b29ad75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Content-Aware ReAssembly of FEatures. Please refer to <code>CARAFE: Content-Aware ReAssembly of FEatures &lt;<a href="https://arxiv.org/abs/1905.02188">https://arxiv.org/abs/1905.02188</a>&gt;</code>_ for more details. <br/></td></tr>
<tr class="separator:abe48f2594212ec3e9c5c68390b29ad75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3129395568108dda100e5cd0e766f31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3129395568108dda100e5cd0e766f31"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiCarafeBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t rtop_grad, diopiTensorHandle_t rbottom_grad_hs, diopiTensorHandle_t rbottom_grad, diopiTensorHandle_t rmask_grad, diopiTensorHandle_t bottom_grad, diopiTensorHandle_t mask_grad, diopiConstTensorHandle_t top_grad, diopiConstTensorHandle_t rfeatures, diopiConstTensorHandle_t masks, int64_t kernel_size, int64_t group_size, int64_t scale_factor)</td></tr>
<tr class="separator:ac3129395568108dda100e5cd0e766f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634b1f27b3acd5a64cb0bc5b95623b7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a634b1f27b3acd5a64cb0bc5b95623b7d"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiCarafeNaiveMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t features, diopiConstTensorHandle_t masks, int64_t kernel_size, int64_t group_size, int64_t scale_factor)</td></tr>
<tr class="separator:a634b1f27b3acd5a64cb0bc5b95623b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde08f01a9392027b421dd155f363c8f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afde08f01a9392027b421dd155f363c8f"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiCarafeNaiveBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t bottom_grad, diopiTensorHandle_t mask_grad, diopiConstTensorHandle_t top_grad, diopiConstTensorHandle_t features, diopiConstTensorHandle_t masks, int64_t kernel_size, int64_t group_size, int64_t scale_factor)</td></tr>
<tr class="separator:afde08f01a9392027b421dd155f363c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc01973ebeb0e1064cefdb0d5d0ad325"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#abc01973ebeb0e1064cefdb0d5d0ad325">diopiCorrelationMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input1, diopiConstTensorHandle_t input2, int64_t kH, int64_t kW, int64_t patchH, int64_t patchW, int64_t padH, int64_t padW, int64_t dilationH, int64_t dilationW, int64_t dilation_patchH, int64_t dilation_patchW, int64_t dH, int64_t dW)</td></tr>
<tr class="memdesc:abc01973ebeb0e1064cefdb0d5d0ad325"><td class="mdescLeft">&#160;</td><td class="mdescRight">This correlation operator works for optical flow correlation computation.  <a href="#abc01973ebeb0e1064cefdb0d5d0ad325">更多...</a><br/></td></tr>
<tr class="separator:abc01973ebeb0e1064cefdb0d5d0ad325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e3c750f77dd53e565eaef4521cd932"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ae5e3c750f77dd53e565eaef4521cd932">diopiCorrelationBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input1, diopiTensorHandle_t grad_input2, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t input1, diopiConstTensorHandle_t input2, int64_t kH, int64_t kW, int64_t patchH, int64_t patchW, int64_t padH, int64_t padW, int64_t dilationH, int64_t dilationW, int64_t dilation_patchH, int64_t dilation_patchW, int64_t dH, int64_t dW)</td></tr>
<tr class="memdesc:ae5e3c750f77dd53e565eaef4521cd932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for the correlation operator works for optical flow correlation computation.  <a href="#ae5e3c750f77dd53e565eaef4521cd932">更多...</a><br/></td></tr>
<tr class="separator:ae5e3c750f77dd53e565eaef4521cd932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda6ba6a135365697156ed31be41edbb"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#afda6ba6a135365697156ed31be41edbb">diopiDeformConvMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiTensorHandle_t columns, diopiTensorHandle_t ones, diopiConstTensorHandle_t input, diopiConstTensorHandle_t weight, diopiConstTensorHandle_t offset, int64_t kW, int64_t kH, int64_t dW, int64_t dH, int64_t padW, int64_t padH, int64_t dilationW, int64_t dilationH, int64_t groups, int64_t deform_groups, int64_t im2col_step)</td></tr>
<tr class="memdesc:afda6ba6a135365697156ed31be41edbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deformable 2D convolution.  <a href="#afda6ba6a135365697156ed31be41edbb">更多...</a><br/></td></tr>
<tr class="separator:afda6ba6a135365697156ed31be41edbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05775d9c1d58cdd503b7de7c4ab255d"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#aa05775d9c1d58cdd503b7de7c4ab255d">diopiDeformConvBackwardInputMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t gradInput, diopiTensorHandle_t gradOffset, diopiConstTensorHandle_t input, diopiConstTensorHandle_t offset, diopiConstTensorHandle_t gradOutput, diopiConstTensorHandle_t weight, diopiConstTensorHandle_t columns, int64_t kW, int64_t kH, int64_t dW, int64_t dH, int64_t padW, int64_t padH, int64_t dilationW, int64_t dilationH, int64_t groups, int64_t deform_groups, int64_t im2col_step)</td></tr>
<tr class="memdesc:aa05775d9c1d58cdd503b7de7c4ab255d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Deformable 2D convolution(for input and offset).  <a href="#aa05775d9c1d58cdd503b7de7c4ab255d">更多...</a><br/></td></tr>
<tr class="separator:aa05775d9c1d58cdd503b7de7c4ab255d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a85d1457181335fae05cae5fcb04d6"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ab7a85d1457181335fae05cae5fcb04d6">diopiDeformConvBackwardParametersMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t gradOutput, diopiTensorHandle_t gradWeight, diopiConstTensorHandle_t input, diopiConstTensorHandle_t offset, diopiConstTensorHandle_t columns, diopiConstTensorHandle_t ones, int64_t kW, int64_t kH, int64_t dW, int64_t dH, int64_t padW, int64_t padH, int64_t dilationW, int64_t dilationH, int64_t groups, int64_t deform_groups, int64_t im2col_step, float scale)</td></tr>
<tr class="memdesc:ab7a85d1457181335fae05cae5fcb04d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Deformable 2D convolution(for weight).  <a href="#ab7a85d1457181335fae05cae5fcb04d6">更多...</a><br/></td></tr>
<tr class="separator:ab7a85d1457181335fae05cae5fcb04d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3988f214d47d54cefbb43839b30cf25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3988f214d47d54cefbb43839b30cf25"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ae3988f214d47d54cefbb43839b30cf25">diopiDeformRoiPoolMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, diopiConstTensorHandle_t offset, int64_t pooled_height, int64_t pooled_width, int64_t sampling_ratio, float spatial_scale, float gamma)</td></tr>
<tr class="memdesc:ae3988f214d47d54cefbb43839b30cf25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deformable RoiPool. <br/></td></tr>
<tr class="separator:ae3988f214d47d54cefbb43839b30cf25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac877283e47f6396c59b417349715682c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac877283e47f6396c59b417349715682c"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiDeformRoiPoolBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiTensorHandle_t grad_offset, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, diopiConstTensorHandle_t offset, int64_t pooled_height, int64_t pooled_width, int64_t sampling_ratio, float spatial_scale, float gamma)</td></tr>
<tr class="separator:ac877283e47f6396c59b417349715682c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fe817c07d2ee2842b03905441afe5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47fe817c07d2ee2842b03905441afe5c"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a47fe817c07d2ee2842b03905441afe5c">diopiSigmoidFocalLossMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t target, diopiConstTensorHandle_t weight, float gamma, float alpha)</td></tr>
<tr class="memdesc:a47fe817c07d2ee2842b03905441afe5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SigmoidFocalLoss. <br/></td></tr>
<tr class="separator:a47fe817c07d2ee2842b03905441afe5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765df9061d8b861bfe316aa9a9510654"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a765df9061d8b861bfe316aa9a9510654"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiSigmoidFocalLossBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t input, diopiConstTensorHandle_t target, diopiConstTensorHandle_t weight, float gamma, float alpha)</td></tr>
<tr class="separator:a765df9061d8b861bfe316aa9a9510654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bbafff4085132d2bf25b27989be37a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86bbafff4085132d2bf25b27989be37a"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a86bbafff4085132d2bf25b27989be37a">diopiSoftmaxFocalLossMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t softmax, diopiConstTensorHandle_t target, diopiConstTensorHandle_t weight, float gamma, float alpha)</td></tr>
<tr class="memdesc:a86bbafff4085132d2bf25b27989be37a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SoftmaxFocalLoss. <br/></td></tr>
<tr class="separator:a86bbafff4085132d2bf25b27989be37a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6809996c36d59234d42d614bc82138e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6809996c36d59234d42d614bc82138e"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiSoftmaxFocalLossBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiTensorHandle_t buff, diopiConstTensorHandle_t softmax, diopiConstTensorHandle_t target, diopiConstTensorHandle_t weight, float gamma, float alpha)</td></tr>
<tr class="separator:ac6809996c36d59234d42d614bc82138e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6833e557fc39ea9d5f9fcdd7196ea5"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#afe6833e557fc39ea9d5f9fcdd7196ea5">diopiFurthestPointSamplingMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t temp_tensor, diopiTensorHandle_t idx_tensor, diopiConstTensorHandle_t points_xyz, int64_t B, int64_t N, int64_t num_points)</td></tr>
<tr class="memdesc:afe6833e557fc39ea9d5f9fcdd7196ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses iterative furthest point sampling to select a set of features whose corresponding points have the furthest distance.  <a href="#afe6833e557fc39ea9d5f9fcdd7196ea5">更多...</a><br/></td></tr>
<tr class="separator:afe6833e557fc39ea9d5f9fcdd7196ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d154086e0ec5daaf9eb368d963a8df"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ab4d154086e0ec5daaf9eb368d963a8df">diopiFurthestPointSamplingWithDistMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t temp_tensor, diopiTensorHandle_t idx_tensor, diopiConstTensorHandle_t points_dist, int64_t B, int64_t N, int64_t num_points)</td></tr>
<tr class="memdesc:ab4d154086e0ec5daaf9eb368d963a8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses iterative furthest point sampling to select a set of features whose corresponding points have the furthest distance(with dist version).  <a href="#ab4d154086e0ec5daaf9eb368d963a8df">更多...</a><br/></td></tr>
<tr class="separator:ab4d154086e0ec5daaf9eb368d963a8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ee4c1bbce0e96ae1c690b264c541af"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a39ee4c1bbce0e96ae1c690b264c541af">diopiFusedBiasLeakyreluMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t input, diopiConstTensorHandle_t bias, diopiConstTensorHandle_t refer, int64_t act, int64_t grad, float alpha, float scale)</td></tr>
<tr class="memdesc:a39ee4c1bbce0e96ae1c690b264c541af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate second order deviation.  <a href="#a39ee4c1bbce0e96ae1c690b264c541af">更多...</a><br/></td></tr>
<tr class="separator:a39ee4c1bbce0e96ae1c690b264c541af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d5bc1bcd8d166f0fa4a1d08760acd4"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a21d5bc1bcd8d166f0fa4a1d08760acd4">diopiGatherPointsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t out, diopiConstTensorHandle_t points, diopiConstTensorHandle_t idx, int64_t b, int64_t c, int64_t n, int64_t npoints)</td></tr>
<tr class="memdesc:a21d5bc1bcd8d166f0fa4a1d08760acd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather points with given index.  <a href="#a21d5bc1bcd8d166f0fa4a1d08760acd4">更多...</a><br/></td></tr>
<tr class="separator:a21d5bc1bcd8d166f0fa4a1d08760acd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562605c9d23bd4dce2d70a8a02bb7db3"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a562605c9d23bd4dce2d70a8a02bb7db3">diopiGatherPointsBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_points, diopiConstTensorHandle_t grad_out, diopiConstTensorHandle_t idx, int64_t b, int64_t c, int64_t n, int64_t npoints)</td></tr>
<tr class="memdesc:a562605c9d23bd4dce2d70a8a02bb7db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Gather points with given index.  <a href="#a562605c9d23bd4dce2d70a8a02bb7db3">更多...</a><br/></td></tr>
<tr class="separator:a562605c9d23bd4dce2d70a8a02bb7db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf90824daa18269450bff49ac317a33b"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#abf90824daa18269450bff49ac317a33b">diopiGroupPointsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t out, diopiConstTensorHandle_t points, diopiConstTensorHandle_t idx, int64_t b, int64_t c, int64_t n, int64_t npoints, int64_t nsample)</td></tr>
<tr class="memdesc:abf90824daa18269450bff49ac317a33b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Groups points with a ball query of radius.  <a href="#abf90824daa18269450bff49ac317a33b">更多...</a><br/></td></tr>
<tr class="separator:abf90824daa18269450bff49ac317a33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ec9fbaaa4ced7cdd92e9df6a2d690f"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a78ec9fbaaa4ced7cdd92e9df6a2d690f">diopiGroupPointsBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_points, diopiConstTensorHandle_t grad_out, diopiConstTensorHandle_t idx, int64_t b, int64_t c, int64_t n, int64_t npoints, int64_t nsample)</td></tr>
<tr class="memdesc:a78ec9fbaaa4ced7cdd92e9df6a2d690f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Groups points with a ball query of radius.  <a href="#a78ec9fbaaa4ced7cdd92e9df6a2d690f">更多...</a><br/></td></tr>
<tr class="separator:a78ec9fbaaa4ced7cdd92e9df6a2d690f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a3927123d79797e806828400faf346"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a45a3927123d79797e806828400faf346">diopiStackGroupPointsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t out_tensor, diopiConstTensorHandle_t features_tensor, diopiConstTensorHandle_t features_batch_cnt_tensor, diopiConstTensorHandle_t idx_tensor, diopiConstTensorHandle_t idx_batch_cnt_tensor, int64_t b, int64_t c, int64_t m, int64_t nsample)</td></tr>
<tr class="memdesc:a45a3927123d79797e806828400faf346"><td class="mdescLeft">&#160;</td><td class="mdescRight">Groups points with a ball query of radius(stacked input).  <a href="#a45a3927123d79797e806828400faf346">更多...</a><br/></td></tr>
<tr class="separator:a45a3927123d79797e806828400faf346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73226295bcb12575eb9ad88182f2b70"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ae73226295bcb12575eb9ad88182f2b70">diopiStackGroupPointsBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_features_tensor, diopiConstTensorHandle_t grad_out_tensor, diopiConstTensorHandle_t idx_tensor, diopiConstTensorHandle_t idx_batch_cnt_tensor, diopiConstTensorHandle_t features_batch_cnt_tensor, int64_t b, int64_t c, int64_t m, int64_t n, int64_t nsample)</td></tr>
<tr class="memdesc:ae73226295bcb12575eb9ad88182f2b70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Groups points with a ball query of radius(stacked input).  <a href="#ae73226295bcb12575eb9ad88182f2b70">更多...</a><br/></td></tr>
<tr class="separator:ae73226295bcb12575eb9ad88182f2b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17226b599b06037020bc20247c92701d"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a17226b599b06037020bc20247c92701d">diopiIou3dBoxesOverlapBevMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t ans_overlap, diopiConstTensorHandle_t boxes_a, diopiConstTensorHandle_t boxes_b)</td></tr>
<tr class="memdesc:a17226b599b06037020bc20247c92701d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate boxes BEV overlap.  <a href="#a17226b599b06037020bc20247c92701d">更多...</a><br/></td></tr>
<tr class="separator:a17226b599b06037020bc20247c92701d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6062a48d0a84817585db148ee9c7f1b5"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a6062a48d0a84817585db148ee9c7f1b5">diopiIou3dNms3dMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t keep, diopiTensorHandle_t keep_num, diopiConstTensorHandle_t boxes, float nms_overlap_thresh)</td></tr>
<tr class="memdesc:a6062a48d0a84817585db148ee9c7f1b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">3D NMS function GPU implementation (for BEV boxes).  <a href="#a6062a48d0a84817585db148ee9c7f1b5">更多...</a><br/></td></tr>
<tr class="separator:a6062a48d0a84817585db148ee9c7f1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78982080fd88c8b1b422942ae9cd82eb"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a78982080fd88c8b1b422942ae9cd82eb">diopiIou3dNms3dNormalMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t keep, diopiTensorHandle_t keep_num, diopiConstTensorHandle_t boxes, float nms_overlap_thresh)</td></tr>
<tr class="memdesc:a78982080fd88c8b1b422942ae9cd82eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal 3D NMS function GPU implementation. The overlap of two boxes for IoU calculation is defined as the exact overlapping area of the two boxes WITH their yaw angle set to 0.  <a href="#a78982080fd88c8b1b422942ae9cd82eb">更多...</a><br/></td></tr>
<tr class="separator:a78982080fd88c8b1b422942ae9cd82eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f15c4534128996403127c81bcfff1b7"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a0f15c4534128996403127c81bcfff1b7">diopiKnnMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t idx_tensor, diopiTensorHandle_t dist2_tensor, diopiConstTensorHandle_t xyz_tensor, diopiConstTensorHandle_t new_xyz_tensor, int64_t b, int64_t n, int64_t m, int64_t nsample)</td></tr>
<tr class="memdesc:a0f15c4534128996403127c81bcfff1b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">KNN based on heap data structure.  <a href="#a0f15c4534128996403127c81bcfff1b7">更多...</a><br/></td></tr>
<tr class="separator:a0f15c4534128996403127c81bcfff1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9137f9d6688c5185d8a233ea72eb611"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9137f9d6688c5185d8a233ea72eb611"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ae9137f9d6688c5185d8a233ea72eb611">diopiMaskedIm2colMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t col, diopiConstTensorHandle_t im, diopiConstTensorHandle_t mask_h_idx, diopiConstTensorHandle_t mask_w_idx, int64_t kernel_h, int64_t kernel_w, int64_t pad_h, int64_t pad_w)</td></tr>
<tr class="memdesc:ae9137f9d6688c5185d8a233ea72eb611"><td class="mdescLeft">&#160;</td><td class="mdescRight">A MaskedConv2d which inherits the official Conv2d. The masked forward doesn't implement the backward function and only supports the stride parameter to be 1 currently. <br/></td></tr>
<tr class="separator:ae9137f9d6688c5185d8a233ea72eb611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88514772a675cfdd809efb2a334f7fe5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88514772a675cfdd809efb2a334f7fe5"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiMaskedCol2imMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t im, diopiConstTensorHandle_t col, diopiConstTensorHandle_t mask_h_idx, diopiConstTensorHandle_t mask_w_idx, int64_t height, int64_t width, int64_t channels)</td></tr>
<tr class="separator:a88514772a675cfdd809efb2a334f7fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb66f2de65c1aa4b3d239bf2c271d14"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcb66f2de65c1aa4b3d239bf2c271d14"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#afcb66f2de65c1aa4b3d239bf2c271d14">diopiModulatedDeformConvMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiTensorHandle_t columns, diopiTensorHandle_t ones, diopiConstTensorHandle_t input, diopiConstTensorHandle_t weight, diopiConstTensorHandle_t bias, diopiConstTensorHandle_t offset, diopiConstTensorHandle_t mask, int64_t kernel_h, int64_t kernel_w, const int64_t stride_h, const int64_t stride_w, const int64_t pad_h, const int64_t pad_w, const int64_t dilation_h, const int64_t dilation_w, const int64_t group, const int64_t deformable_group, const bool with_bias)</td></tr>
<tr class="memdesc:afcb66f2de65c1aa4b3d239bf2c271d14"><td class="mdescLeft">&#160;</td><td class="mdescRight">A ModulatedDeformable Conv Encapsulation that acts as normal Conv layers. <br/></td></tr>
<tr class="separator:afcb66f2de65c1aa4b3d239bf2c271d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34d25e9a9b963f6dad280c05004d8a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa34d25e9a9b963f6dad280c05004d8a7"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiModulatedDeformConvBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiTensorHandle_t grad_weight, diopiTensorHandle_t grad_bias, diopiTensorHandle_t grad_offset, diopiTensorHandle_t grad_mask, diopiConstTensorHandle_t input, diopiConstTensorHandle_t weight, diopiConstTensorHandle_t bias, diopiConstTensorHandle_t ones, diopiConstTensorHandle_t offset, diopiConstTensorHandle_t mask, diopiConstTensorHandle_t columns, diopiConstTensorHandle_t grad_output, int64_t kernel_h, int64_t kernel_w, int64_t stride_h, int64_t stride_w, int64_t pad_h, int64_t pad_w, int64_t dilation_h, int64_t dilation_w, int64_t group, int64_t deformable_group, const bool with_bias)</td></tr>
<tr class="separator:aa34d25e9a9b963f6dad280c05004d8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985e39cc25a0ccacff005468330ae88e"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a985e39cc25a0ccacff005468330ae88e">diopiMsDeformAttnMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t value, diopiConstTensorHandle_t spatial_shapes, diopiConstTensorHandle_t level_start_index, diopiConstTensorHandle_t sampling_loc, diopiConstTensorHandle_t attn_weight, int64_t im2col_step)</td></tr>
<tr class="memdesc:a985e39cc25a0ccacff005468330ae88e"><td class="mdescLeft">&#160;</td><td class="mdescRight">An attention module used in Deformable-Detr.  <a href="#a985e39cc25a0ccacff005468330ae88e">更多...</a><br/></td></tr>
<tr class="separator:a985e39cc25a0ccacff005468330ae88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02b087b711a5dc6fcac55571af2e54b"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ac02b087b711a5dc6fcac55571af2e54b">diopiMsDeformAttnBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_value, diopiTensorHandle_t grad_sampling_loc, diopiTensorHandle_t grad_attn_weight, diopiConstTensorHandle_t value, diopiConstTensorHandle_t spatial_shapes, diopiConstTensorHandle_t level_start_index, diopiConstTensorHandle_t sampling_loc, diopiConstTensorHandle_t attn_weight, diopiConstTensorHandle_t grad_output, int64_t im2col_step)</td></tr>
<tr class="memdesc:ac02b087b711a5dc6fcac55571af2e54b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for An attention module used in Deformable-Detr.  <a href="#ac02b087b711a5dc6fcac55571af2e54b">更多...</a><br/></td></tr>
<tr class="separator:ac02b087b711a5dc6fcac55571af2e54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef2ff08ac9fdf4d817707343a5e567f"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a2ef2ff08ac9fdf4d817707343a5e567f">diopiNmsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t dets, diopiConstTensorHandle_t scores, double iou_threshold, int64_t offset)</td></tr>
<tr class="memdesc:a2ef2ff08ac9fdf4d817707343a5e567f"><td class="mdescLeft">&#160;</td><td class="mdescRight">NMS from mmcv. This function is modified from: <a href="https://github.com/pytorch/vision/">https://github.com/pytorch/vision/</a>.  <a href="#a2ef2ff08ac9fdf4d817707343a5e567f">更多...</a><br/></td></tr>
<tr class="separator:a2ef2ff08ac9fdf4d817707343a5e567f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cae98a1886c8a73e4acbd332de4a3f"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#af6cae98a1886c8a73e4acbd332de4a3f">diopiNmsRotatedMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t dets, diopiConstTensorHandle_t scores, diopiConstTensorHandle_t order_t, diopiConstTensorHandle_t dets_sorted, double iou_threshold, int64_t multi_label)</td></tr>
<tr class="memdesc:af6cae98a1886c8a73e4acbd332de4a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs non-maximum suppression (NMS) on the rotated boxes according to their intersection-over-union (IoU).  <a href="#af6cae98a1886c8a73e4acbd332de4a3f">更多...</a><br/></td></tr>
<tr class="separator:af6cae98a1886c8a73e4acbd332de4a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62193f21fb14a693add32d0f233abdf2"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a62193f21fb14a693add32d0f233abdf2">diopiPointsInBoxesPartMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t box_idx_of_points, diopiConstTensorHandle_t boxes, diopiConstTensorHandle_t pts)</td></tr>
<tr class="memdesc:a62193f21fb14a693add32d0f233abdf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the box in which each point is(Part).  <a href="#a62193f21fb14a693add32d0f233abdf2">更多...</a><br/></td></tr>
<tr class="separator:a62193f21fb14a693add32d0f233abdf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8288e33206c62174dbe85253cbbf6ca9"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a8288e33206c62174dbe85253cbbf6ca9">diopiPointsInBoxesAllMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t box_idx_of_points, diopiConstTensorHandle_t boxes, diopiConstTensorHandle_t pts)</td></tr>
<tr class="memdesc:a8288e33206c62174dbe85253cbbf6ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the box in which each point is(All).  <a href="#a8288e33206c62174dbe85253cbbf6ca9">更多...</a><br/></td></tr>
<tr class="separator:a8288e33206c62174dbe85253cbbf6ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41729e0d86377c7310255a9568bd7877"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41729e0d86377c7310255a9568bd7877"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a41729e0d86377c7310255a9568bd7877">diopiPsamaskMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, int64_t psa_type, int64_t num_, int64_t h_feature, int64_t w_feature, int64_t h_mask, int64_t w_mask, int64_t half_h_mask, int64_t half_w_mask)</td></tr>
<tr class="memdesc:a41729e0d86377c7310255a9568bd7877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Psamask. Modified from <a href="https://github.com/hszhao/semseg/blob/master/lib/psa">https://github.com/hszhao/semseg/blob/master/lib/psa</a>. <br/></td></tr>
<tr class="separator:a41729e0d86377c7310255a9568bd7877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa5f949ce83d694b03f8e1f22f1b80e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2aa5f949ce83d694b03f8e1f22f1b80e"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiPsamaskBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, int64_t psa_type, int64_t num_, int64_t h_feature, int64_t w_feature, int64_t h_mask, int64_t w_mask, int64_t half_h_mask, int64_t half_w_mask)</td></tr>
<tr class="separator:a2aa5f949ce83d694b03f8e1f22f1b80e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd25011b010b44739990b7d46cae44d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fd25011b010b44739990b7d46cae44d"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a8fd25011b010b44739990b7d46cae44d">diopiRoiAlignMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiTensorHandle_t argmax_y, diopiTensorHandle_t argmax_x, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, int64_t aligned_height, int64_t aligned_width, int64_t sampling_ratio, int64_t pool_mode, float spatial_scale, bool aligned)</td></tr>
<tr class="memdesc:a8fd25011b010b44739990b7d46cae44d"><td class="mdescLeft">&#160;</td><td class="mdescRight">RoI align pooling layer. <br/></td></tr>
<tr class="separator:a8fd25011b010b44739990b7d46cae44d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0609fea1a6fbeea0af8532be79225631"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0609fea1a6fbeea0af8532be79225631"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiRoiAlignBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t rois, diopiConstTensorHandle_t argmax_y, diopiConstTensorHandle_t argmax_x, int64_t aligned_height, int64_t aligned_width, int64_t sampling_ratio, int64_t pool_mode, float spatial_scale, bool aligned)</td></tr>
<tr class="separator:a0609fea1a6fbeea0af8532be79225631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2519124444d3088050911f366d4dd80d"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a2519124444d3088050911f366d4dd80d">diopiRoiAlignRotatedMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, int64_t aligned_height, int64_t aligned_width, int64_t sampling_ratio, float spatial_scale, bool aligned, bool clockwise)</td></tr>
<tr class="memdesc:a2519124444d3088050911f366d4dd80d"><td class="mdescLeft">&#160;</td><td class="mdescRight">RoI align pooling layer for rotated proposals for mmcv.  <a href="#a2519124444d3088050911f366d4dd80d">更多...</a><br/></td></tr>
<tr class="separator:a2519124444d3088050911f366d4dd80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3c8451e94ff640eb8515f4c4568e7a"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#afd3c8451e94ff640eb8515f4c4568e7a">diopiRoiAlignRotatedBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t bottom_grad, diopiConstTensorHandle_t top_grad, diopiConstTensorHandle_t rois, int64_t aligned_height, int64_t aligned_width, int64_t sampling_ratio, float spatial_scale, bool aligned, bool clockwise)</td></tr>
<tr class="memdesc:afd3c8451e94ff640eb8515f4c4568e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for RoI align pooling layer for rotated proposals for mmcv.  <a href="#afd3c8451e94ff640eb8515f4c4568e7a">更多...</a><br/></td></tr>
<tr class="separator:afd3c8451e94ff640eb8515f4c4568e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed72f619395388da087def32b3da49e"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#aeed72f619395388da087def32b3da49e">diopiRiroiAlignRotatedMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t features, diopiConstTensorHandle_t rois, int64_t pooled_height, int64_t pooled_width, int64_t num_samples, int64_t num_orientations, float spatial_scale, bool clockwise)</td></tr>
<tr class="memdesc:aeed72f619395388da087def32b3da49e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation-invariant RoI align pooling layer for rotated proposals.  <a href="#aeed72f619395388da087def32b3da49e">更多...</a><br/></td></tr>
<tr class="separator:aeed72f619395388da087def32b3da49e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca0c1972fa7aaba8e4c768b7820039d"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a9ca0c1972fa7aaba8e4c768b7820039d">diopiRiroiAlignRotatedBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t bottom_grad, diopiConstTensorHandle_t top_grad, diopiConstTensorHandle_t rois, int64_t pooled_height, int64_t pooled_width, int64_t num_samples, int64_t num_orientations, float spatial_scale, bool clockwise)</td></tr>
<tr class="memdesc:a9ca0c1972fa7aaba8e4c768b7820039d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Rotation-invariant RoI align pooling layer for rotated proposals.  <a href="#a9ca0c1972fa7aaba8e4c768b7820039d">更多...</a><br/></td></tr>
<tr class="separator:a9ca0c1972fa7aaba8e4c768b7820039d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c305589e37673b62c1171b56060e9b9"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a4c305589e37673b62c1171b56060e9b9">diopiRoiawarePool3dMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t argmax, diopiTensorHandle_t pts_idx_of_voxels, diopiTensorHandle_t pooled_features, diopiConstTensorHandle_t rois, diopiConstTensorHandle_t pts, diopiConstTensorHandle_t pts_feature, int64_t pool_method)</td></tr>
<tr class="memdesc:a4c305589e37673b62c1171b56060e9b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the geometry-specific features of each 3D proposal.  <a href="#a4c305589e37673b62c1171b56060e9b9">更多...</a><br/></td></tr>
<tr class="separator:a4c305589e37673b62c1171b56060e9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6ecb802bceeecba4d6c38fee71a2bf"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a5e6ecb802bceeecba4d6c38fee71a2bf">diopiRoiawarePool3dBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_in, diopiConstTensorHandle_t pts_idx_of_voxels, diopiConstTensorHandle_t argmax, diopiConstTensorHandle_t grad_out, int64_t pool_method)</td></tr>
<tr class="memdesc:a5e6ecb802bceeecba4d6c38fee71a2bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Encode the geometry-specific features of each 3D proposal.  <a href="#a5e6ecb802bceeecba4d6c38fee71a2bf">更多...</a><br/></td></tr>
<tr class="separator:a5e6ecb802bceeecba4d6c38fee71a2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78e12ab3fb30cafffc867beb5ad5f30"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#af78e12ab3fb30cafffc867beb5ad5f30">diopiRoipointPool3dMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t pooled_features, diopiTensorHandle_t pooled_empty_flag, diopiConstTensorHandle_t xyz, diopiConstTensorHandle_t boxes3d, diopiConstTensorHandle_t pts_feature)</td></tr>
<tr class="memdesc:af78e12ab3fb30cafffc867beb5ad5f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the geometry-specific features of each 3D proposal.  <a href="#af78e12ab3fb30cafffc867beb5ad5f30">更多...</a><br/></td></tr>
<tr class="separator:af78e12ab3fb30cafffc867beb5ad5f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d1722c662f9b4d159b8020313a6bef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45d1722c662f9b4d159b8020313a6bef"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a45d1722c662f9b4d159b8020313a6bef">diopiRoiPoolMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiTensorHandle_t argmax, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, int64_t pooled_height, int64_t pooled_width, float spatial_scale)</td></tr>
<tr class="memdesc:a45d1722c662f9b4d159b8020313a6bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">RoiPool. <br/></td></tr>
<tr class="separator:a45d1722c662f9b4d159b8020313a6bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7033e708883e8094c3c106a192d5b830"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7033e708883e8094c3c106a192d5b830"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiRoiPoolBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t rois, diopiConstTensorHandle_t argmax, int64_t pooled_height, int64_t pooled_width, float spatial_scale)</td></tr>
<tr class="separator:a7033e708883e8094c3c106a192d5b830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2fb9e29c9877467f86a2bb00cb7fd6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d2fb9e29c9877467f86a2bb00cb7fd6"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a5d2fb9e29c9877467f86a2bb00cb7fd6">diopiDynamicPointToVoxelMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *outlist, diopiConstTensorHandle_t feats, diopiConstTensorHandle_t coors, int64_t reduce_type)</td></tr>
<tr class="memdesc:a5d2fb9e29c9877467f86a2bb00cb7fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scatters points into voxels, used in the voxel encoder with dynamic voxelization. <br/></td></tr>
<tr class="separator:a5d2fb9e29c9877467f86a2bb00cb7fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf0ada9f96486d3aeea1fb1b16a4116"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bf0ada9f96486d3aeea1fb1b16a4116"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiDynamicPointToVoxelBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_feats, diopiConstTensorHandle_t grad_reduced_feats, diopiConstTensorHandle_t feats, diopiConstTensorHandle_t reduced_feats, diopiConstTensorHandle_t coors_idx, diopiConstTensorHandle_t reduce_count, int64_t reduce_type)</td></tr>
<tr class="separator:a7bf0ada9f96486d3aeea1fb1b16a4116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbf67e2735448c3df46657a0f6aafce"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#acbbf67e2735448c3df46657a0f6aafce">diopiSyncBnMeanMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t mean, diopiConstTensorHandle_t input)</td></tr>
<tr class="memdesc:acbbf67e2735448c3df46657a0f6aafce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronized Batch Normalization.  <a href="#acbbf67e2735448c3df46657a0f6aafce">更多...</a><br/></td></tr>
<tr class="separator:acbbf67e2735448c3df46657a0f6aafce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109a45dee8fbaf54e2ce2d019cf12ae1"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a109a45dee8fbaf54e2ce2d019cf12ae1">diopiSyncBnVarMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t var, diopiConstTensorHandle_t input, diopiConstTensorHandle_t mean)</td></tr>
<tr class="memdesc:a109a45dee8fbaf54e2ce2d019cf12ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronized Batch Normalization.  <a href="#a109a45dee8fbaf54e2ce2d019cf12ae1">更多...</a><br/></td></tr>
<tr class="separator:a109a45dee8fbaf54e2ce2d019cf12ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a7b4e53fef59dc3f4276bd50dc80fb0"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a9a7b4e53fef59dc3f4276bd50dc80fb0">diopiSyncBnOutputMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t running_mean, diopiTensorHandle_t running_var, diopiTensorHandle_t norm, diopiTensorHandle_t std, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t mean, diopiConstTensorHandle_t var, diopiConstTensorHandle_t weight, diopiConstTensorHandle_t bias, float eps, float momentum, int64_t group_size)</td></tr>
<tr class="memdesc:a9a7b4e53fef59dc3f4276bd50dc80fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronized Batch Normalization.  <a href="#a9a7b4e53fef59dc3f4276bd50dc80fb0">更多...</a><br/></td></tr>
<tr class="separator:a9a7b4e53fef59dc3f4276bd50dc80fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac064830d4cad613cc9fa7f9c75c88a10"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ac064830d4cad613cc9fa7f9c75c88a10">diopiSyncBnBackwardParamMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_weight, diopiTensorHandle_t grad_bias, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t norm)</td></tr>
<tr class="memdesc:ac064830d4cad613cc9fa7f9c75c88a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Synchronized Batch Normalization(grad for param).  <a href="#ac064830d4cad613cc9fa7f9c75c88a10">更多...</a><br/></td></tr>
<tr class="separator:ac064830d4cad613cc9fa7f9c75c88a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60baab39e14254b02c22485cc9dc6b93"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a60baab39e14254b02c22485cc9dc6b93">diopiSyncBnBackwardDataMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t weight, diopiConstTensorHandle_t grad_weight, diopiConstTensorHandle_t grad_bias, diopiConstTensorHandle_t norm, diopiConstTensorHandle_t std)</td></tr>
<tr class="memdesc:a60baab39e14254b02c22485cc9dc6b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Synchronized Batch Normalization(grad for input).  <a href="#a60baab39e14254b02c22485cc9dc6b93">更多...</a><br/></td></tr>
<tr class="separator:a60baab39e14254b02c22485cc9dc6b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eea45d5cd34ca9b70a2021643243f3c"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a0eea45d5cd34ca9b70a2021643243f3c">diopiThreeInterpolateMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t out, diopiConstTensorHandle_t points, diopiConstTensorHandle_t idx, diopiConstTensorHandle_t weight, int64_t b, int64_t c, int64_t m, int64_t n)</td></tr>
<tr class="memdesc:a0eea45d5cd34ca9b70a2021643243f3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs weighted linear interpolation on 3 features.  <a href="#a0eea45d5cd34ca9b70a2021643243f3c">更多...</a><br/></td></tr>
<tr class="separator:a0eea45d5cd34ca9b70a2021643243f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821110f5ce08386984bb8da65dab13df"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a821110f5ce08386984bb8da65dab13df">diopiThreeInterpolateBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_points, diopiConstTensorHandle_t grad_out, diopiConstTensorHandle_t idx, diopiConstTensorHandle_t weight, int64_t b, int64_t c, int64_t n, int64_t m)</td></tr>
<tr class="memdesc:a821110f5ce08386984bb8da65dab13df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Performs weighted linear interpolation on 3 features.  <a href="#a821110f5ce08386984bb8da65dab13df">更多...</a><br/></td></tr>
<tr class="separator:a821110f5ce08386984bb8da65dab13df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c56ce06eb2e375562ffc00c11adbbc0"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a8c56ce06eb2e375562ffc00c11adbbc0">diopiThreeNnMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t dist2, diopiTensorHandle_t idx, diopiConstTensorHandle_t unknown, diopiConstTensorHandle_t known, int64_t b, int64_t n, int64_t m)</td></tr>
<tr class="memdesc:a8c56ce06eb2e375562ffc00c11adbbc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the top-3 nearest neighbors of the target set from the source set.  <a href="#a8c56ce06eb2e375562ffc00c11adbbc0">更多...</a><br/></td></tr>
<tr class="separator:a8c56ce06eb2e375562ffc00c11adbbc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2ea8fc1db3e6fccadfa1c3895672e3"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#afb2ea8fc1db3e6fccadfa1c3895672e3">diopiTinShiftMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t shift)</td></tr>
<tr class="memdesc:afb2ea8fc1db3e6fccadfa1c3895672e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporal Interlace Shift.  <a href="#afb2ea8fc1db3e6fccadfa1c3895672e3">更多...</a><br/></td></tr>
<tr class="separator:afb2ea8fc1db3e6fccadfa1c3895672e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b8e89faac55adf1a2b5adfbf4b28d4"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ad0b8e89faac55adf1a2b5adfbf4b28d4">diopiTinShiftBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t shift)</td></tr>
<tr class="memdesc:ad0b8e89faac55adf1a2b5adfbf4b28d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Temporal Interlace Shift.  <a href="#ad0b8e89faac55adf1a2b5adfbf4b28d4">更多...</a><br/></td></tr>
<tr class="separator:ad0b8e89faac55adf1a2b5adfbf4b28d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcbf86b41be3fa915a933dfd4da3a91"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a5fcbf86b41be3fa915a933dfd4da3a91">diopiUpfirdn2dOpMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t input, diopiConstTensorHandle_t kernel, int64_t up_x, int64_t up_y, int64_t down_x, int64_t down_y, int64_t pad_x0, int64_t pad_x1, int64_t pad_y0, int64_t pad_y1)</td></tr>
<tr class="memdesc:a5fcbf86b41be3fa915a933dfd4da3a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpFRIDn for 2d features.  <a href="#a5fcbf86b41be3fa915a933dfd4da3a91">更多...</a><br/></td></tr>
<tr class="separator:a5fcbf86b41be3fa915a933dfd4da3a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec6bb95535bffc818a6e33f8d530ed5"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#acec6bb95535bffc818a6e33f8d530ed5">diopiHardVoxelizeMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t voxels, diopiTensorHandle_t coors, diopiTensorHandle_t num_points_per_voxel, diopiTensorHandle_t voxel_num, diopiConstTensorHandle_t points, diopiConstTensorHandle_t voxel_size, diopiConstTensorHandle_t coors_range, const int64_t max_points, const int64_t max_voxels, const int64_t NDim, const bool deterministic)</td></tr>
<tr class="memdesc:acec6bb95535bffc818a6e33f8d530ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert kitti points(N, &gt;=3) to voxels.  <a href="#acec6bb95535bffc818a6e33f8d530ed5">更多...</a><br/></td></tr>
<tr class="separator:acec6bb95535bffc818a6e33f8d530ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354b8b75598f8d45de7ea3f51a09c25d"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a354b8b75598f8d45de7ea3f51a09c25d">diopiDynamicVoxelizeMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t coors, diopiConstTensorHandle_t points, diopiConstTensorHandle_t voxel_size, diopiConstTensorHandle_t coors_range, const int64_t NDim)</td></tr>
<tr class="memdesc:a354b8b75598f8d45de7ea3f51a09c25d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert kitti points(N, &gt;=3) to voxels(max_points == -1 or max_voxels == -1).  <a href="#a354b8b75598f8d45de7ea3f51a09c25d">更多...</a><br/></td></tr>
<tr class="separator:a354b8b75598f8d45de7ea3f51a09c25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f5bf9a626bb8d285b67368280e85f8"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a35f5bf9a626bb8d285b67368280e85f8">diopiRotatedFeatureAlignMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t features, diopiConstTensorHandle_t best_bboxes, float spatial_scale, int64_t points)</td></tr>
<tr class="memdesc:a35f5bf9a626bb8d285b67368280e85f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Using the feature interpolation to obtain the position information correspond to the refined rotate anchors and reconstruct the feature maps in pixel-wise manner to achieve feature alignment.  <a href="#a35f5bf9a626bb8d285b67368280e85f8">更多...</a><br/></td></tr>
<tr class="separator:a35f5bf9a626bb8d285b67368280e85f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f14672c020e4fb80048d705df96dfb1"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a9f14672c020e4fb80048d705df96dfb1">diopiRotatedFeatureAlignBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t bottom_grad, diopiConstTensorHandle_t top_grad, diopiConstTensorHandle_t best_bboxes, float spatial_scale, int64_t points)</td></tr>
<tr class="memdesc:a9f14672c020e4fb80048d705df96dfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Using the feature interpolation to obtain the position information correspond to the refined rotate anchors and reconstruct the feature maps in pixel-wise manner to achieve feature alignment.  <a href="#a9f14672c020e4fb80048d705df96dfb1">更多...</a><br/></td></tr>
<tr class="separator:a9f14672c020e4fb80048d705df96dfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92bc4ed9919ad6858a68b46f3f1a84e7"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a92bc4ed9919ad6858a68b46f3f1a84e7">diopiPointsInPolygonsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t points, diopiConstTensorHandle_t polygons)</td></tr>
<tr class="memdesc:a92bc4ed9919ad6858a68b46f3f1a84e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Judging whether points are inside polygons, which is used in the ATSS assignment for the rotated boxes.  <a href="#a92bc4ed9919ad6858a68b46f3f1a84e7">更多...</a><br/></td></tr>
<tr class="separator:a92bc4ed9919ad6858a68b46f3f1a84e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff1d1eb43acffa77c980d93a9c76e00"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ff1d1eb43acffa77c980d93a9c76e00"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a3ff1d1eb43acffa77c980d93a9c76e00">diopiIndiceMaxpoolMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t features, diopiConstTensorHandle_t indicePairs, diopiConstTensorHandle_t indiceNum, int64_t numAct)</td></tr>
<tr class="memdesc:a3ff1d1eb43acffa77c980d93a9c76e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sparse ops.(only support pytorch now) <br/></td></tr>
<tr class="separator:a3ff1d1eb43acffa77c980d93a9c76e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5f6dfd6b7da0b9d7ac17b1e7b56c8b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f5f6dfd6b7da0b9d7ac17b1e7b56c8b"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiIndiceMaxpoolBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t features, diopiConstTensorHandle_t outFeatures, diopiConstTensorHandle_t outGrad, diopiConstTensorHandle_t indicePairs, diopiConstTensorHandle_t indiceNum)</td></tr>
<tr class="separator:a6f5f6dfd6b7da0b9d7ac17b1e7b56c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7d14d8026e2ab55ce796f3bcfc2e96"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd7d14d8026e2ab55ce796f3bcfc2e96"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiIndiceConvMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t features, diopiConstTensorHandle_t filters, diopiConstTensorHandle_t indicePairs, diopiConstTensorHandle_t indiceNum, int64_t numActOut, int64_t _inverse, int64_t _subM)</td></tr>
<tr class="separator:afd7d14d8026e2ab55ce796f3bcfc2e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd03e4a12b00fedfac13e948eea63869"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd03e4a12b00fedfac13e948eea63869"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiIndiceConvBackwardMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t *outlist, diopiConstTensorHandle_t features, diopiConstTensorHandle_t filters, diopiConstTensorHandle_t outGrad, diopiConstTensorHandle_t indicePairs, diopiConstTensorHandle_t indiceNum, int64_t _inverse, int64_t _subM)</td></tr>
<tr class="separator:abd03e4a12b00fedfac13e948eea63869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693e62f85231681592a827ef8017e65a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a693e62f85231681592a827ef8017e65a"></a>
DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><b>diopiFusedIndiceConvBatchnormMmcv</b> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t features, diopiConstTensorHandle_t filters, diopiConstTensorHandle_t bias, diopiConstTensorHandle_t indicePairs, diopiConstTensorHandle_t indiceNum, int64_t numActOut, int64_t _inverse, int64_t _subM)</td></tr>
<tr class="separator:a693e62f85231681592a827ef8017e65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77eca8de69b126f152f043e1b58087a"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ab77eca8de69b126f152f043e1b58087a">diopiMinAreaPolygonsMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t polygons, diopiConstTensorHandle_t pointsets)</td></tr>
<tr class="memdesc:ab77eca8de69b126f152f043e1b58087a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the smallest polygons that surrounds all points in the point sets.  <a href="#ab77eca8de69b126f152f043e1b58087a">更多...</a><br/></td></tr>
<tr class="separator:ab77eca8de69b126f152f043e1b58087a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10522df68c1336f6b47239af9adf3022"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a10522df68c1336f6b47239af9adf3022">diopiActiveRotatedFilterMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t indices)</td></tr>
<tr class="memdesc:a10522df68c1336f6b47239af9adf3022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoding the orientation information and generating orientation-sensitive features.  <a href="#a10522df68c1336f6b47239af9adf3022">更多...</a><br/></td></tr>
<tr class="separator:a10522df68c1336f6b47239af9adf3022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e18748488a4e613b00e65894b61d2cc"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a5e18748488a4e613b00e65894b61d2cc">diopiActiveRotatedFilterBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_in, diopiConstTensorHandle_t grad_out, diopiConstTensorHandle_t indices)</td></tr>
<tr class="memdesc:a5e18748488a4e613b00e65894b61d2cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for Encoding the orientation information and generating orientation-sensitive features.  <a href="#a5e18748488a4e613b00e65894b61d2cc">更多...</a><br/></td></tr>
<tr class="separator:a5e18748488a4e613b00e65894b61d2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c3866512af6d76616a37a72aad8e81"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a43c3866512af6d76616a37a72aad8e81">diopiConvexIouMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t ious, diopiConstTensorHandle_t pointsets, diopiConstTensorHandle_t polygons)</td></tr>
<tr class="memdesc:a43c3866512af6d76616a37a72aad8e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return generalized intersection-over-union (Jaccard index) between point sets and polygons(ConvexIou version).  <a href="#a43c3866512af6d76616a37a72aad8e81">更多...</a><br/></td></tr>
<tr class="separator:a43c3866512af6d76616a37a72aad8e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c355a11fa6dee0ca1d29a2890ca3bc"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#ad4c355a11fa6dee0ca1d29a2890ca3bc">diopiConvexGiouMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t pointsets, diopiConstTensorHandle_t polygons)</td></tr>
<tr class="memdesc:ad4c355a11fa6dee0ca1d29a2890ca3bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return generalized intersection-over-union (Jaccard index) between point sets and polygons(ConvexGiou version).  <a href="#ad4c355a11fa6dee0ca1d29a2890ca3bc">更多...</a><br/></td></tr>
<tr class="separator:ad4c355a11fa6dee0ca1d29a2890ca3bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d784a0fd34860c0ccd14ba95ee13b69"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a8d784a0fd34860c0ccd14ba95ee13b69">diopiDiffIouRotatedSortVerticesMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t *out, diopiConstTensorHandle_t vertices, diopiConstTensorHandle_t mask, diopiConstTensorHandle_t num_valid)</td></tr>
<tr class="memdesc:a8d784a0fd34860c0ccd14ba95ee13b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort indices. Note: why 9? the polygon has maximal 8 vertices. +1 to duplicate the first element. the index should have following structure: (A, B, C, ... , A, X, X, X) and X indicates the index of arbitrary elements in the last 16 (intersections not corners) with value 0 and mask False. (cause they have zero value and zero gradient)  <a href="#a8d784a0fd34860c0ccd14ba95ee13b69">更多...</a><br/></td></tr>
<tr class="separator:a8d784a0fd34860c0ccd14ba95ee13b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2806461d9c23b2066a215866f23d6cf2"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a2806461d9c23b2066a215866f23d6cf2">diopiChamferDistanceMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t dist1, diopiTensorHandle_t dist2, diopiTensorHandle_t idx1, diopiTensorHandle_t idx2, diopiConstTensorHandle_t xyz1, diopiConstTensorHandle_t xyz2)</td></tr>
<tr class="memdesc:a2806461d9c23b2066a215866f23d6cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an implementation of the 2D Chamfer Distance. It has been used in the paper <code>Oriented RepPoints for Aerial Object Detection (CVPR 2022) &lt;<a href="https://arxiv.org/abs/2105.11111">https://arxiv.org/abs/2105.11111</a>&gt;_</code>.  <a href="#a2806461d9c23b2066a215866f23d6cf2">更多...</a><br/></td></tr>
<tr class="separator:a2806461d9c23b2066a215866f23d6cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518fccad67c604aa189e8a3dd76604cc"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a518fccad67c604aa189e8a3dd76604cc">diopiChamferDistanceBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_xyz1, diopiTensorHandle_t grad_xyz2, diopiConstTensorHandle_t xyz1, diopiConstTensorHandle_t xyz2, diopiConstTensorHandle_t idx1, diopiConstTensorHandle_t idx2, diopiConstTensorHandle_t grad_dist1, diopiConstTensorHandle_t grad_dist2)</td></tr>
<tr class="memdesc:a518fccad67c604aa189e8a3dd76604cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for the 2D Chamfer Distance. It has been used in the paper <code>Oriented RepPoints for Aerial Object Detection (CVPR 2022) &lt;<a href="https://arxiv.org/abs/2105.11111">https://arxiv.org/abs/2105.11111</a>&gt;_</code>.  <a href="#a518fccad67c604aa189e8a3dd76604cc">更多...</a><br/></td></tr>
<tr class="separator:a518fccad67c604aa189e8a3dd76604cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1748375ea8852960f3ed2ece6967628c"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a1748375ea8852960f3ed2ece6967628c">diopiPrroiPoolMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, int64_t pooled_height, int64_t pooled_width, float spatial_scale)</td></tr>
<tr class="memdesc:a1748375ea8852960f3ed2ece6967628c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The operation of precision RoI pooling. The implementation of PrRoIPool is modified from <a href="https://github.com/vacancy/PreciseRoIPooling/">https://github.com/vacancy/PreciseRoIPooling/</a>.  <a href="#a1748375ea8852960f3ed2ece6967628c">更多...</a><br/></td></tr>
<tr class="separator:a1748375ea8852960f3ed2ece6967628c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80414a2b33de37a4f81afac19f55eb52"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#a80414a2b33de37a4f81afac19f55eb52">diopiPrroiPoolbackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_input, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t rois, int64_t pooled_height, int64_t pooled_width, float spatial_scale)</td></tr>
<tr class="memdesc:a80414a2b33de37a4f81afac19f55eb52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backward function for the operation of precision RoI pooling. The implementation of PrRoIPool is modified from <a href="https://github.com/vacancy/PreciseRoIPooling/">https://github.com/vacancy/PreciseRoIPooling/</a>(grad of input)  <a href="#a80414a2b33de37a4f81afac19f55eb52">更多...</a><br/></td></tr>
<tr class="separator:a80414a2b33de37a4f81afac19f55eb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa988a583eca2bfc57486008cd3665b0"><td class="memItemLeft" align="right" valign="top">DIOPI_API diopiError_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="functions__mmcv_8h.html#aaa988a583eca2bfc57486008cd3665b0">diopiPrroiPoolCoorBackwardMmcv</a> (diopiContextHandle_t ctx, diopiTensorHandle_t grad_rois, diopiConstTensorHandle_t output, diopiConstTensorHandle_t grad_output, diopiConstTensorHandle_t input, diopiConstTensorHandle_t rois, int64_t pooled_height, int64_t pooled_width, float spatial_scale)</td></tr>
<tr class="memdesc:aaa988a583eca2bfc57486008cd3665b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The operation of precision RoI pooling. The implementation of PrRoIPool is modified from <a href="https://github.com/vacancy/PreciseRoIPooling/">https://github.com/vacancy/PreciseRoIPooling/</a>(grad of rois)  <a href="#aaa988a583eca2bfc57486008cd3665b0">更多...</a><br/></td></tr>
<tr class="separator:aaa988a583eca2bfc57486008cd3665b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><dl class="section author"><dt>作者</dt><dd>OpenComputeLab </dd></dl>
<dl class="section copyright"><dt>版权所有</dt><dd>(c) 2023, OpenComputeLab. </dd></dl>
</div><h2 class="groupheader">函数说明</h2>
<a class="anchor" id="a5e18748488a4e613b00e65894b61d2cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiActiveRotatedFilterBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Encoding the orientation information and generating orientation-sensitive features. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_in</td><td>the gradient of <code>input</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiActiveRotatedFilter(). </dd></dl>

</div>
</div>
<a class="anchor" id="a10522df68c1336f6b47239af9adf3022"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiActiveRotatedFilterMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoding the orientation information and generating orientation-sensitive features. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>Input features with shape [num_output_planes, num_input_planes, num_orientations, H, W]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">indices</td><td>Indices with shape [num_orientations, H, W, num_rotations]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Refined features with shape [num_output_planes * num_rotations, num_input_planes * num_orientations, H, W]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a94a9ae1f922ca3c1a8528964271eb95a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiAssignScoreWithkBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_centers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_scores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>centers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>scores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>knn_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>K</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>out_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>aggregate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for perform weighted sum to generate output features according to scores. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out</td><td>the gradient of <code>output</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_points</td><td>the gradient of <code>points</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_scores</td><td>the gradient of <code>scores</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_centers</td><td>the gradient of <code>centers</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiAssignScoreWithk() </dd></dl>

</div>
</div>
<a class="anchor" id="a930efba3434c54b01f8b28c6dd4a2d31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiAssignScoreWithkMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>centers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>scores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>knn_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>K</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>out_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>aggregate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform weighted sum to generate output features according to scores. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">scores</td><td>(B, npoint, K, M), predicted scores to aggregate weight matrices in the weight bank. <code>npoint</code> is the number of sampled centers. <code>K</code> is the number of queried neighbors. <code>M</code> is the number of weight matrices in the weight bank. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>(B, N, M, out_dim) Pre-computed point features to be aggregated. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">centers</td><td>(B, N, M, out_dim) Pre-computed center features to be aggregated. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">knn_idx</td><td>(B, npoint, K), index of sampled kNN. We assume the first idx in each row is the idx of the center. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">B,N,npoint,M,K,out_dim</td><td>scores: (B, npoint, K, M); points: (B, N, M, out_dim) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">aggregate</td><td>(str, optional): Aggregation method. Can be 'sum', 'avg' or 'max'. Defaults: 'sum'. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>(B, out_dim, npoint, K), the aggregated features. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a79d4807093fd7ad47a8508a3d40c0fb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiBallQueryMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>center_xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sample_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find nearby points in spherical space. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">min_radius</td><td>float: minimum radius of the balls. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_radius</td><td>float: maximum radius of the balls. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sample_num</td><td>int: maximum number of features in the balls. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xyz</td><td>(B, N, 3) xyz coordinates of the features, or staked input (N1 + N2 ..., 3). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">center_xyz</td><td>(B, npoint, 3) centers of the ball query, or staked input (M1 + M2 ..., 3). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">B,N,npoint</td><td>xyz (B, N, 3), center_xyz (B, npoint, 3) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idx</td><td>(B, npoint, nsample) tensor with the indices of the features that form the query balls. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1a0cfcaecfdcf5943f95f8a8dc2b5336"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiBboxOverlapsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>ious</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bboxes1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bboxes2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aligned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate overlap between two set of bboxes. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bboxes1</td><td>shape (m, 4) in &lt;x1, y1, x2, y2&gt; format or empty. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bboxes2</td><td>shape (n, 4) in &lt;x1, y1, x2, y2&gt; format or empty. If aligned is <code>True</code>, then m and n must be equal. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">mode</td><td>(str): "iou" (intersection over union) or iof (intersection over foreground). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">aligned</td><td>bool, determine the way how <code>ious</code> is calculated. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">offset</td><td>offset is 0 or 1. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ious</td><td>the ious betweens boxes. If <code>aligned</code> is <code>False</code>, the shape of ious is (m, n) else (m, 1). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe415540ff598d57b65fe020054d7509"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiBorderAlignBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>argmax_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pool_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for border align pooling layer. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_output</td><td>the gradient of <code>output</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_input</td><td>the gradient of <code>input</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiBorderAlign() </dd></dl>

</div>
</div>
<a class="anchor" id="a34753b468b88b16fe96f4e0e92ba3965"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiBorderAlignMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>argmax_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pool_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Border align pooling layer. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>Features with shape [N,4C,H,W]. Channels ranged in [0,C), [C,2C), [2C,3C), [3C,4C) represent the top, left, bottom, right features respectively. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes</td><td>Boxes with shape [N,H*W,4]. Coordinate format (x1,y1,x2,y2). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pool_size</td><td>int: number of positions sampled over the boxes' borders (e.g. top, bottom, left, right). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Pooled features with shape [N,C,H*W,4]. The order is (top,left,bottom,right) for the last dimension. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">argmax_idx</td><td><code>argmax_idx</code> only used for backward. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d074db1045543f87e400cbf85272539"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiBoxIouQuadriMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>ious</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bboxes1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bboxes2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aligned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return intersection-over-union (Jaccard index) of boxes(BoxIouQuadri). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiBoxIouRotated() </dd></dl>

</div>
</div>
<a class="anchor" id="a9b6f91ca54352393c2677a6d42735b18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiBoxIouRotatedMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>ious</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bboxes1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bboxes2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aligned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return intersection-over-union (Jaccard index) of boxes(BoxIouRotated). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bboxes1</td><td>quadrilateral bboxes 1. It has shape (N, 8), indicating (x1, y1, ..., x4, y4) for each row. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bboxes2</td><td>quadrilateral bboxes 2. It has shape (M, 8), indicating (x1, y1, ..., x4, y4) for each row. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">mode</td><td>(str) "iou" (intersection over union) or iof (intersection over foreground). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">aligned</td><td>If <code>aligned</code> is <code>False</code>, then calculate the ious between each bbox of bboxes1 and bboxes2, otherwise the ious between each aligned pair of bboxes1 and bboxes2. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ious</td><td>the ious betweens boxes. If <code>aligned</code> is <code>False</code>, the shape of ious is (N, M) else (N,). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a518fccad67c604aa189e8a3dd76604cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiChamferDistanceBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_xyz1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_xyz2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_dist1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_dist2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for the 2D Chamfer Distance. It has been used in the paper <code>Oriented RepPoints for Aerial Object Detection (CVPR 2022) &lt;<a href="https://arxiv.org/abs/2105.11111">https://arxiv.org/abs/2105.11111</a>&gt;_</code>. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_dist1</td><td>the gradient of <code>dist1</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_dist2</td><td>the gradient of <code>dist2</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_xyz1</td><td>the gradient of <code>xyz1</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_xyz2</td><td>the gradient of <code>xyz2</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiChamferDistance(). </dd></dl>

</div>
</div>
<a class="anchor" id="a2806461d9c23b2066a215866f23d6cf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiChamferDistanceMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>dist1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>dist2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an implementation of the 2D Chamfer Distance. It has been used in the paper <code>Oriented RepPoints for Aerial Object Detection (CVPR 2022) &lt;<a href="https://arxiv.org/abs/2105.11111">https://arxiv.org/abs/2105.11111</a>&gt;_</code>. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xyz1</td><td>(Tensor): Point set with shape (B, N, 2). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xyz2</td><td>(Tensor): Point set with shape (B, N, 2). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dist1,dist2,idx1,idx2</td><td>out sequence[Tensor]:<ul>
<li>dist1 (Tensor): Chamfer distance (xyz1 to xyz2) with shape (B, N).</li>
<li>dist2 (Tensor): Chamfer distance (xyz2 to xyz1) with shape (B, N).</li>
<li>idx1 (Tensor): Index of chamfer distance (xyz1 to xyz2) with shape (B, N), which be used in compute gradient.</li>
<li>idx2 (Tensor): Index of chamfer distance (xyz2 to xyz2) with shape (B, N), which be used in compute gradient. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad4c355a11fa6dee0ca1d29a2890ca3bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiConvexGiouMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pointsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>polygons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return generalized intersection-over-union (Jaccard index) between point sets and polygons(ConvexGiou version). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>The first element is the gious between point sets and polygons with the shape (N,). The second element is the gradient of point sets with the shape (N, 18). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiConvexIou(). </dd></dl>

</div>
</div>
<a class="anchor" id="a43c3866512af6d76616a37a72aad8e81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiConvexIouMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>ious</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pointsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>polygons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return generalized intersection-over-union (Jaccard index) between point sets and polygons(ConvexIou version). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pointsets</td><td>It has shape (N, 18), indicating (x1, y1, x2, y2, ..., x9, y9) for each row. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">polygons</td><td>It has shape (N, 8), indicating (x1, y1, x2, y2, x3, y3, x4, y4) for each row. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ious</td><td>Return the ious between point sets and polygons with the shape (N, K). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5e3c750f77dd53e565eaef4521cd932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiCorrelationBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_input1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_input2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>patchH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>patchW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilation_patchH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilation_patchW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dW</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for the correlation operator works for optical flow correlation computation. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_output</td><td>the gradient of <code>output</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_input1,grad_input2</td><td>the gradient of input tensors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiCorrelation() </dd></dl>

</div>
</div>
<a class="anchor" id="abc01973ebeb0e1064cefdb0d5d0ad325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiCorrelationMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>patchH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>patchW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilation_patchH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilation_patchW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dW</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This correlation operator works for optical flow correlation computation. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input1,input2</td><td>input tensor </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">kH,kW</td><td>kernel_size int: The size of sliding window i.e. local neighborhood representing the center points and involved in correlation computation. Defaults to 1. kH, kW = _pair(kernel_size). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">patchH,patchW</td><td>max_displacement int: The radius for computing correlation volume, but the actual working space can be dilated by dilation_patch. Defaults to 1. patch_size = max_displacement * 2 + 1. patchH, patchW = _pair(patch_size) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dH,dW</td><td>stride int: The stride of the sliding blocks in the input spatial dimensions. Defaults to 1. dH, dW = _pair(stride) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">padH,padW</td><td>padding int: Zero padding added to all four sides of the input1. Defaults to 0. padH, padW = _pair(padding). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dilationH,dilationW</td><td>dilation int: The spacing of local neighborhood that will involved in correlation. Defaults to 1. dilationH, dilationW = _pair(dilation). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dilation_patchH,dilation_patchW</td><td>dilation_patch int: The spacing between position need to compute correlation. Defaults to 1. dilation_patchH, dilation_patchW = _pair( dilation_patch) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>correlation operator out tensor for input tensor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa05775d9c1d58cdd503b7de7c4ab255d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiDeformConvBackwardInputMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>gradInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>gradOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>gradOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>deform_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>im2col_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Deformable 2D convolution(for input and offset). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">gradOutput</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gradInput,gradOffset</td><td>the gradient of input tensors <code>input</code> and <code>offset</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiDeformConv() </dd></dl>

</div>
</div>
<a class="anchor" id="ab7a85d1457181335fae05cae5fcb04d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiDeformConvBackwardParametersMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>gradOutput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>gradWeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>ones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>deform_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>im2col_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Deformable 2D convolution(for weight). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">gradOutput</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gradWeight</td><td>the gradient of input tensors <code>weight</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiDeformConv() </dd></dl>

</div>
</div>
<a class="anchor" id="afda6ba6a135365697156ed31be41edbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiDeformConvMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>ones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>kH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>padH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dilationH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>deform_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>im2col_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deformable 2D convolution. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>Input feature, shape (B, C_in, H_in, W_in) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">weight</td><td>weight tensor, </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">offset</td><td>Offset for deformable convolution, shape (B, deform_groups*kernel_size[0]*kernel_size[1]*2, H_out, W_out), H_out, W_out are equal to the output's. kernel_size(int, tuple): Size of the convolving kernel. An offset is like <code>[y0, x0, y1, x1, y2, x2, ..., y8, x8]</code>. The spatial arrangement is like: .. code:: text (x0, y0) (x1, y1) (x2, y2) (x3, y3) (x4, y4) (x5, y5) (x6, y6) (x7, y7) (x8, y8) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">kH,kW</td><td>kH=weight.size(2),kW=weight.size(3) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dH,dW</td><td>stride (int, tuple): Stride of the convolution. Default: 1. dW=stride[1], dH=stride[0] </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">padH,padW</td><td>padding (int or tuple): Zero-padding added to both sides of the input. Default: 0. padW=padding[1], padH=padding[0], </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dilationH,dilationW</td><td>dilation (int or tuple): Spacing between kernel elements. Default: 1. dilationW= dilation[1], dilationH= dilation[0] </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">groups</td><td>int: Number of blocked connections from input. channels to output channels. Default: 1. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">deform_groups</td><td>int: Number of deformable group partitions. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">im2col_step</td><td>int: Number of samples processed by im2col_cuda_kernel per call. It will work when <code>batch_size</code> &gt; <code>im2col_step</code>, but <code>batch_size</code> must be divisible by <code>im2col_step</code>. Default: 32. <code>New in version 1.3.17.</code> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output,columns,ones</td><td>Output of the layer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8d784a0fd34860c0ccd14ba95ee13b69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiDiffIouRotatedSortVerticesMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>vertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>num_valid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort indices. Note: why 9? the polygon has maximal 8 vertices. +1 to duplicate the first element. the index should have following structure: (A, B, C, ... , A, X, X, X) and X indicates the index of arbitrary elements in the last 16 (intersections not corners) with value 0 and mask False. (cause they have zero value and zero gradient) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">vertices</td><td>(B, N, 24, 2) Box vertices. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">mask</td><td>(B, N, 24) Mask. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num_valid</td><td>(B, N) sum of mask, dim=2. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>(B, N, 9) Sorted indices. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a354b8b75598f8d45de7ea3f51a09c25d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiDynamicVoxelizeMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>coors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>voxel_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>coors_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&#160;</td>
          <td class="paramname"><em>NDim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert kitti points(N, &gt;=3) to voxels(max_points == -1 or max_voxels == -1). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiHardVoxelize(). </dd></dl>

</div>
</div>
<a class="anchor" id="afe6833e557fc39ea9d5f9fcdd7196ea5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiFurthestPointSamplingMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>temp_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points_xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num_points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses iterative furthest point sampling to select a set of features whose corresponding points have the furthest distance. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points_xyz</td><td>(B, N, 3) where N &gt; num_points. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num_points</td><td>int: Number of points in the sampled set. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points_dist</td><td>(B, N, N) Distance between each point pair. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">B,N</td><td>points_xyz (B, N, 3) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num_points</td><td>int: Number of points in the sampled set. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idx_tensor</td><td>(B, num_points) indices of the sampled points. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">temp_tensor</td><td>tmp result tensor for calculations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab4d154086e0ec5daaf9eb368d963a8df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiFurthestPointSamplingWithDistMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>temp_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num_points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses iterative furthest point sampling to select a set of features whose corresponding points have the furthest distance(with dist version). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points_dist</td><td>(B, N, N) Distance between each point pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiFurthestPointSampling() </dd></dl>

</div>
</div>
<a class="anchor" id="a39ee4c1bbce0e96ae1c690b264c541af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiFusedBiasLeakyreluMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>refer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate second order deviation. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>Input feature map. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bias</td><td>(nn.Parameter): The bias from convolution operation. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">refer</td><td>empty tensor for calculations. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">scale</td><td>(float, optional): A scalar to adjust the variance of the feature map. Defaults to 2**0.5. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">act</td><td>=3 </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad</td><td>=0 </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">alpha</td><td>negative_slope (float, optional): Same as nn.LeakyRelu. Defaults to 0.2. alpha=negative_slope. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out,:</td><td>Feature map after non-linear activation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a562605c9d23bd4dce2d70a8a02bb7db3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiGatherPointsBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Gather points with given index. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out</td><td>the gradient of <code>out</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_points</td><td>the gradient of <code>points</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiGatherPoints() </dd></dl>

</div>
</div>
<a class="anchor" id="a21d5bc1bcd8d166f0fa4a1d08760acd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiGatherPointsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gather points with given index. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>features (B, C, N) features to gather. points = features </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">idx</td><td>indices (B, M) where M is the number of points. idx = indices </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">b,c,n</td><td>points (b, c, n) features. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>(B, C, M) where M is the number of points. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a78ec9fbaaa4ced7cdd92e9df6a2d690f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiGroupPointsBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nsample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Groups points with a ball query of radius. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out</td><td>the gradient of <code>out</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_points</td><td>the gradient of <code>points</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiGroupPoints() </dd></dl>

</div>
</div>
<a class="anchor" id="abf90824daa18269450bff49ac317a33b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiGroupPointsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nsample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Groups points with a ball query of radius. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>features (Tensor): Tensor of features to group, input shape is (B, C, N) or stacked inputs (N1 + N2 ..., C). points=features/features_tensor. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">idx</td><td>indices (Tensor): The indices of features to group with, input shape is (B, npoint, nsample) or stacked inputs (M1 + M2 ..., nsample). idx=indices. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">b,c,n</td><td>points (b, c, n) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">npoints,nsample</td><td>idx (B, npoint, nsample) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Grouped features, the shape is (B, C, npoint, nsample) or (M1 + M2 ..., C, nsample). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acec6bb95535bffc818a6e33f8d530ed5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiHardVoxelizeMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>voxels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>coors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>num_points_per_voxel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>voxel_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>voxel_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>coors_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&#160;</td>
          <td class="paramname"><em>max_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&#160;</td>
          <td class="paramname"><em>max_voxels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&#160;</td>
          <td class="paramname"><em>NDim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>deterministic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert kitti points(N, &gt;=3) to voxels. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>[N, ndim]. Points[:, :3] contain xyz points and points[:, 3:] contain other information like reflectivity. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">voxel_size</td><td>(tuple or float): The size of voxel with the shape of [3]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">coors_range</td><td>(tuple or float): The coordinate range of voxel with the shape of [6]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_points</td><td>(int, optional): maximum points contained in a voxel. if max_points=-1, it means using dynamic_voxelize. Default: 35. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_voxels</td><td>(int, optional): maximum voxels this function create. for second, 20000 is a good choice. Users should shuffle points before call this function because max_voxels may drop points. Default: 20000. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">NDim</td><td>=3. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">deterministic</td><td>bool. whether to invoke the non-deterministic version of hard-voxelization implementations. non-deterministic version is considerablly fast but is not deterministic. only affects hard voxelization. default True. for more information of this argument and the implementation insights, please refer to the following links: <a href="https://github.com/open-mmlab/mmdetection3d/issues/894">https://github.com/open-mmlab/mmdetection3d/issues/894</a> <a href="https://github.com/open-mmlab/mmdetection3d/pull/904">https://github.com/open-mmlab/mmdetection3d/pull/904</a> it is an experimental feature and we will appreciate it if you could share with us the failing cases. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">voxels,coors,num_points_per_voxel,voxel_num</td><td>A tuple contains three elements. The first one is the output voxels with the shape of [M, max_points, n_dim], which only contain points and returned when max_points != -1. The second is the voxel coordinates with shape of [M, 3]. The last is number of point per voxel with the shape of [M], which only returned when max_points != -1. voxel_num is for index select. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a17226b599b06037020bc20247c92701d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiIou3dBoxesOverlapBevMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>ans_overlap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate boxes BEV overlap. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes_a,:</td><td>Input boxes a with shape (M, 7). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes_b,:</td><td>Input boxes b with shape (N, 7). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ans_overlap,:</td><td>BEV overlap result with shape (M, N). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6062a48d0a84817585db148ee9c7f1b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiIou3dNms3dMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>keep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>keep_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>nms_overlap_thresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>3D NMS function GPU implementation (for BEV boxes). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes</td><td>Input boxes with the shape of (N, 7) ([x, y, z, dx, dy, dz, heading]). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nms_overlap_thresh</td><td>float: Overlap threshold of NMS. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">keep</td><td>Indexes after NMS. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">keep_num</td><td>num_out for keep </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a78982080fd88c8b1b422942ae9cd82eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiIou3dNms3dNormalMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>keep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>keep_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>nms_overlap_thresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normal 3D NMS function GPU implementation. The overlap of two boxes for IoU calculation is defined as the exact overlapping area of the two boxes WITH their yaw angle set to 0. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiIou3dNms3d() </dd></dl>

</div>
</div>
<a class="anchor" id="a0f15c4534128996403127c81bcfff1b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiKnnMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>dist2_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>new_xyz_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nsample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KNN based on heap data structure. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xyz_tensor</td><td>(B, N, 3) if transposed == False, else (B, 3, N). xyz coordinates of the features. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">new_xyz_tensor</td><td>(B, npoint, 3) if transposed is False, else (B, 3, npoint). centers of the knn query. Default: None. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nsample</td><td>int, number of nearest neighbors. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">b,n</td><td>xyz_tensor (b, n, 3) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">m</td><td>= npoint </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idx_tensor</td><td>(B, npoint, k) tensor with the indices of the features that form k-nearest neighbours. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dist2_tensor</td><td>(B, npoint, k) distance tensors after calculations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab77eca8de69b126f152f043e1b58087a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiMinAreaPolygonsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pointsets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the smallest polygons that surrounds all points in the point sets. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pointsets</td><td>point sets with shape (N, 18). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">polygons</td><td>Return the smallest polygons with shape (N, 8). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac02b087b711a5dc6fcac55571af2e54b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiMsDeformAttnBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_sampling_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_attn_weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>spatial_shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>level_start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>sampling_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>attn_weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>im2col_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for An attention module used in Deformable-Detr. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_output</td><td>the gradient of <code>out</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_value,grad_sampling_loc,grad_attn_weight</td><td>the gradient of <code>value</code>,<code>sampling_loc</code>,<code>attn_weight</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiMsDeformAttn() </dd></dl>

</div>
</div>
<a class="anchor" id="a985e39cc25a0ccacff005468330ae88e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiMsDeformAttnMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>spatial_shapes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>level_start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>sampling_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>attn_weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>im2col_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An attention module used in Deformable-Detr. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">value</td><td>The value has shape (bs, num_keys, mum_heads, embed_dims//num_heads) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">spatial_shapes</td><td>Spatial shape of each feature map, has shape (num_levels, 2), last dimension 2 represent (h, w). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">level_start_index,:</td><td>level_start_index input tensor. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sampling_loc</td><td>The location of sampling points, has shape (bs ,num_queries, num_heads, num_levels, num_points, 2), the last dimension 2 represent (x, y). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">attn_weight</td><td>The weight of sampling points used when calculate the attention, has shape (bs ,num_queries, num_heads, num_levels, num_points). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">im2col_step</td><td>The step used in image to column. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>attention module out which has shape (bs, num_queries, embed_dims) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2ef2ff08ac9fdf4d817707343a5e567f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiNmsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>dets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>scores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>iou_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NMS from mmcv. This function is modified from: <a href="https://github.com/pytorch/vision/">https://github.com/pytorch/vision/</a>. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dets</td><td>boxes boxes in shape (N, 4). dets=boxes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">scores</td><td>scores in shape (N, ). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">iou_threshold</td><td>float: IoU threshold for NMS. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">offset</td><td>(int, 0 or 1): boxes' width or height is (x2 - x1 + offset). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>indice, which always have the same data type as the input. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af6cae98a1886c8a73e4acbd332de4a3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiNmsRotatedMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>dets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>scores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>order_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>dets_sorted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>iou_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>multi_label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs non-maximum suppression (NMS) on the rotated boxes according to their intersection-over-union (IoU). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dets</td><td>Rotated boxes in shape (N, 5). They are expected to be in (x_ctr, y_ctr, width, height, angle_radian) format. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">order_t,dets_sorted</td><td>order tensor and ordered dets </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">scores</td><td>scores in shape (N, ). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">iou_threshold</td><td>float: IoU thresh for NMS. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">multi_label</td><td>boxes' label in shape (N,). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">out</td><td>indice, which is always the same data type as the input. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8288e33206c62174dbe85253cbbf6ca9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiPointsInBoxesAllMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>box_idx_of_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the box in which each point is(All). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pts</td><td>points [B, M, 3], [x, y, z] in LiDAR/DEPTH coordinate. pts=points </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes</td><td>[B, T, 7], num_valid_boxes &lt;= T, [x, y, z, x_size, y_size, z_size, rz] in LiDAR/DEPTH coordinate, (x, y, z) is the bottom center. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">box_idx_of_points</td><td>Return the box indices of points with the shape of (B, M). Default background = -1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62193f21fb14a693add32d0f233abdf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiPointsInBoxesPartMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>box_idx_of_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the box in which each point is(Part). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pts</td><td>points [B, M, 3], [x, y, z] in LiDAR/DEPTH coordinate. pts=points </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes</td><td>[B, T, 7], num_valid_boxes &lt;= T, [x, y, z, x_size, y_size, z_size, rz] in LiDAR/DEPTH coordinate, (x, y, z) is the bottom center. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">box_idx_of_points</td><td>Return the box indices of points with the shape of (B, M). Default background = -1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a92bc4ed9919ad6858a68b46f3f1a84e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiPointsInPolygonsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>polygons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Judging whether points are inside polygons, which is used in the ATSS assignment for the rotated boxes. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>It has shape (B, 2), indicating (x, y). M means the number of predicted points. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">polygons</td><td>It has shape (M, 8), indicating (x1, y1, x2, y2, x3, y3, x4, y4). M means the number of ground truth polygons. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Return the result with the shape of (B, M), 1 indicates that the point is inside the polygon, 0 indicates that the point is outside the polygon. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a80414a2b33de37a4f81afac19f55eb52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiPrroiPoolbackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for the operation of precision RoI pooling. The implementation of PrRoIPool is modified from <a href="https://github.com/vacancy/PreciseRoIPooling/">https://github.com/vacancy/PreciseRoIPooling/</a>(grad of input) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_output</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_input</td><td>the gradient of <code>input</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiPrroiPool(). </dd></dl>

</div>
</div>
<a class="anchor" id="aaa988a583eca2bfc57486008cd3665b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiPrroiPoolCoorBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The operation of precision RoI pooling. The implementation of PrRoIPool is modified from <a href="https://github.com/vacancy/PreciseRoIPooling/">https://github.com/vacancy/PreciseRoIPooling/</a>(grad of rois) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_rois</td><td>the gradient of <code>rois</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiPrroiPool(), diopiPrroiPoolbackward(). </dd></dl>

</div>
</div>
<a class="anchor" id="a1748375ea8852960f3ed2ece6967628c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiPrroiPoolMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The operation of precision RoI pooling. The implementation of PrRoIPool is modified from <a href="https://github.com/vacancy/PreciseRoIPooling/">https://github.com/vacancy/PreciseRoIPooling/</a>. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>(torch.Tensor): The feature map. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rois</td><td>(torch.Tensor): The RoI bboxes in [tl_x, tl_y, br_x, br_y] format. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pooled_height,pooled_width</td><td>output_size (Union[int, tuple]): h, w. pooled_height=h pooled_width=w. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">spatial_scale</td><td>(float, optional): scale the input boxes by this number. Defaults to 1.0. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>The pooled results. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9ca0c1972fa7aaba8e4c768b7820039d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRiroiAlignRotatedBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>bottom_grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>top_grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num_orientations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clockwise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Rotation-invariant RoI align pooling layer for rotated proposals. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">top_grad</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bottom_grad</td><td>the gradient of <code>features</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiRiroiAlignRotated() </dd></dl>

</div>
</div>
<a class="anchor" id="aeed72f619395388da087def32b3da49e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRiroiAlignRotatedMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pooled_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>num_orientations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clockwise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotation-invariant RoI align pooling layer for rotated proposals. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">features</td><td>input a feature map of shape (N, C, H, W) features=input </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rois</td><td>rois with shape (n, 6) with each roi decoded as (batch_index, center_x, center_y, w, h, angle). The angle is in radian. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pooled_height,pooled_width</td><td>out_size (tuple): fixed dimensional RoI output with shape (h, w). pooled_height=h, pooled_width=w </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">spatial_scale</td><td>float: scale the input boxes by this number </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num_samples</td><td>int: number of inputs samples to take for each output sample. 0 to take samples densely for current models. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num_orientations</td><td>int: number of oriented channels. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">clockwise</td><td>(bool): If True, the angle in each proposal follows a clockwise fashion in image space, otherwise, the angle is counterclockwise. Default: False. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Rotation-invariant RoI align pooling layer output. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd3c8451e94ff640eb8515f4c4568e7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRoiAlignRotatedBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>bottom_grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>top_grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>aligned_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>aligned_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sampling_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aligned</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clockwise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for RoI align pooling layer for rotated proposals for mmcv. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">top_grad</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bottom_grad</td><td>the gradient of <code>input</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiRoiAlignRotated() </dd></dl>

</div>
</div>
<a class="anchor" id="a2519124444d3088050911f366d4dd80d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRoiAlignRotatedMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>aligned_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>aligned_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sampling_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aligned</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clockwise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RoI align pooling layer for rotated proposals for mmcv. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>a feature map of shape (N, C, H, W) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rois</td><td>rois with shape (n, 6) with each roi decoded as (batch_index, center_x, center_y, w, h, angle). The angle is in radian. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">aligned_height,aligned_width</td><td>output_size (tuple): h, w. aligned_height=output_size[0], aligned_width=output_size[1] </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">spatial_scale</td><td>float: scale the input boxes by this number </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sampling_ratio</td><td>int number of inputs samples to take for each output sample. 0 to take samples densely for current models. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">aligned</td><td>(bool): if False, use the legacy implementation in MMDetection. If True, align the results more perfectly. Default: True. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">clockwise</td><td>(bool): If True, the angle in each proposal follows a clockwise fashion in image space, otherwise, the angle is counterclockwise. Default: False. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>RoI align pooling layer output. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e6ecb802bceeecba4d6c38fee71a2bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRoiawarePool3dBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts_idx_of_voxels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>argmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pool_method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Encode the geometry-specific features of each 3D proposal. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out</td><td>the gradient of <code>pooled_features</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_in</td><td>the gradient of <code>pts_feature</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiRoiawarePool3d() </dd></dl>

</div>
</div>
<a class="anchor" id="a4c305589e37673b62c1171b56060e9b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRoiawarePool3dMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>argmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts_idx_of_voxels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>pooled_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts_feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pool_method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the geometry-specific features of each 3D proposal. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rois</td><td>: [N, 7], in LiDAR coordinate, (x, y, z) is the bottom center of rois. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pts</td><td>: [npoints, 3], coordinates of input points. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pts_feature</td><td>: [npoints, C], features of input points. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pool_method</td><td>int: Pooling method of RoIAware, 0 (max pool) or 1 (average pool). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pooled_features,:</td><td>Pooled features whose shape is [N, out_x, out_y, out_z, C]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">argmax,pts_idx_of_voxels,:</td><td>used in backward function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af78e12ab3fb30cafffc867beb5ad5f30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRoipointPool3dMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>pooled_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>pooled_empty_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>boxes3d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>pts_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the geometry-specific features of each 3D proposal. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xyz</td><td>Input points whose shape is (B, N, C). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pts_feature</td><td>Features of input points whose shape is (B, N, C). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">boxes3d</td><td>(B, M, 7), Input bounding boxes whose shape is (B, M, 7). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pooled_features,pooled_empty_flag</td><td>A tuple contains two elements. The first one is the pooled features whose shape is (B, M, 512, 3 + C). The second is an empty flag whose shape is (B, M). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f14672c020e4fb80048d705df96dfb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRotatedFeatureAlignBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>bottom_grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>top_grad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>best_bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Using the feature interpolation to obtain the position information correspond to the refined rotate anchors and reconstruct the feature maps in pixel-wise manner to achieve feature alignment. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">top_grad</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bottom_grad</td><td>the gradient of <code>features</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiRotatedFeatureAlign(). </dd></dl>

</div>
</div>
<a class="anchor" id="a35f5bf9a626bb8d285b67368280e85f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiRotatedFeatureAlignMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>best_bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spatial_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Using the feature interpolation to obtain the position information correspond to the refined rotate anchors and reconstruct the feature maps in pixel-wise manner to achieve feature alignment. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">features</td><td>Input features with shape [N,C,H,W]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">best_bboxes</td><td>Refined rotate anchors with shape [N,H,W,5]. Coordinate format (cx,cx,h,w,a). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">spatial_scale</td><td>float: The scale of feature map size and input image size. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>(int, optional): The number of sample points. Only 1 and 5 are supported. Defaults to 1. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Refined features with shape [N,C,H,W]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9cd1a10cfd448d4bbb2eaaf8025ddcde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiStackBallQueryMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>center_xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>center_xyz_batch_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>xyz_batch_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>sample_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find nearby points in spherical space.(Stacked method) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xyz_batch_cnt</td><td>(batch_size): Stacked input xyz coordinates nums in each batch, just like (N1, N2, ...). Defaults to None. New in version 1.7.0. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">center_xyz_batch_cnt</td><td>(batch_size): Stacked centers coordinates nums in each batch, just line (M1, M2, ...). Defaults to None. New in version 1.7.0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiBallQuery() </dd></dl>

</div>
</div>
<a class="anchor" id="ae73226295bcb12575eb9ad88182f2b70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiStackGroupPointsBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_features_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_batch_cnt_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>features_batch_cnt_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nsample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Groups points with a ball query of radius(stacked input). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out_tensor</td><td>the gradient of <code>out</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_features_tensor</td><td>the gradient of <code>features_tensor</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiStackGroupPoints() </dd></dl>

</div>
</div>
<a class="anchor" id="a45a3927123d79797e806828400faf346"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiStackGroupPointsMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>out_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>features_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>features_batch_cnt_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx_batch_cnt_tensor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>nsample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Groups points with a ball query of radius(stacked input). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">features_tensor</td><td>features (Tensor): Tensor of features to group, stacked input shape (N1 + N2 ..., C). features_tensor=features </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">idx_tensor</td><td>indices (Tensor): The indices of features to group with, stacked inputs (M1 + M2 ..., nsample). idx_tensor = indices. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">features_batch_cnt_tensor</td><td>(Tensor, optional): Input features nums in each batch, just like (N1, N2, ...). Defaults to None. New in version 1.7.0. . </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">idx_batch_cnt_tensor</td><td>(Tensor, optional): Input indices nums in each batch, just like (M1, M2, ...). Defaults to None. New in version 1.7.0. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">n,c</td><td>features_tensor (n, c) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">b</td><td>idx_batch_cnt_tensor.shape[0] </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nsample</td><td>idx_tensor (m, nsample) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_tensor</td><td>Grouped features, the shape is (B, C, npoint, nsample) or (M1 + M2 ..., C, nsample). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a60baab39e14254b02c22485cc9dc6b93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiSyncBnBackwardDataMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>std</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Synchronized Batch Normalization(grad for input). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_input</td><td>the gradient of <code>input</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiSyncBnMean(), diopiSyncBnOutput(). </dd></dl>

</div>
</div>
<a class="anchor" id="ac064830d4cad613cc9fa7f9c75c88a10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiSyncBnBackwardParamMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>norm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Synchronized Batch Normalization(grad for param). </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_output</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_weight</td><td>the gradient of <code>weight</code>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_bias</td><td>the gradient of <code>bias</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiSyncBnOutput(). </dd></dl>

</div>
</div>
<a class="anchor" id="acbbf67e2735448c3df46657a0f6aafce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiSyncBnMeanMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronized Batch Normalization. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>input feature. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mean</td><td>initialized as zeros tensors. mean feature tensor calculated from diopiSyncBnMean(). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9a7b4e53fef59dc3f4276bd50dc80fb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiSyncBnOutputMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>running_mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>running_var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>std</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>bias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>momentum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>group_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronized Batch Normalization. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input,weight,bias</td><td>input featire. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">eps</td><td>(float, optional): a value added to the denominator for numerical stability. Defaults to 1e-5. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">momentum</td><td>(float, optional): the value used for the running_mean and running_var computation. Defaults to 0.1. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">group_size</td><td>group_size. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">norm,std</td><td>initialized as zeros tensors. feature tensor calculated from diopiSyncBnOutput() after diopiSyncBnMean() and iopiSyncBnVar(). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">running_mean,running_var</td><td>calculated mean and var during forward function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">output</td><td>Synchronized Batch Normalization output tensor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiSyncBnMean(), diopiSyncBnMean(). </dd></dl>

</div>
</div>
<a class="anchor" id="a109a45dee8fbaf54e2ce2d019cf12ae1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiSyncBnVarMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>mean</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronized Batch Normalization. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input,mean</td><td>input featire. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">var</td><td>initialized as zeros tensors. var feature tensor calculated from diopiSyncBnVar() after diopiSyncBnMean(). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiSyncBnMean() </dd></dl>

</div>
</div>
<a class="anchor" id="a821110f5ce08386984bb8da65dab13df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiThreeInterpolateBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Performs weighted linear interpolation on 3 features. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_out</td><td>the gradient of <code>out</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_points</td><td>the gradient of <code>points</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiThreeInterpolate(). </dd></dl>

</div>
</div>
<a class="anchor" id="a0eea45d5cd34ca9b70a2021643243f3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiThreeInterpolateMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs weighted linear interpolation on 3 features. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>(B, C, M) Features descriptors to be interpolated. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">idx</td><td>(B, n, 3) indices of three nearest neighbor features for the target features. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">weight</td><td>(B, n, 3) weights of three nearest neighbor features for the target features. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">b,c,n,m</td><td>points (b, c, m) idx (b, n, 3) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>(B, C, N) tensor of the interpolated features </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c56ce06eb2e375562ffc00c11adbbc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiThreeNnMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>dist2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>unknown</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>known</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the top-3 nearest neighbors of the target set from the source set. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">unknown</td><td>shape (B, N, 3), points set that needs to find the nearest neighbors. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">known</td><td>shape (B, M, 3), points set that is used to find the nearest neighbors of points in target set. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">b,n,m</td><td>unknown : shape (b, n, 3) known : shape (b, m, 3) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dist2</td><td>shape (B, N, 3), L2 distance of each point in target set to their corresponding top three nearest neighbors. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">idx</td><td>index tensor for reference. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad0b8e89faac55adf1a2b5adfbf4b28d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiTinShiftBackwardMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>grad_output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backward function for Temporal Interlace Shift. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">grad_output</td><td>the gradient of <code>output</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grad_input</td><td>the gradient of <code>input</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>参见</dt><dd>definition of other parameters, refer to diopiTinShift(). </dd></dl>

</div>
</div>
<a class="anchor" id="afb2ea8fc1db3e6fccadfa1c3895672e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiTinShiftMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temporal Interlace Shift. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>Feature map with shape [N, num_segments, C, H * W]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">shift</td><td>Shift tensor with shape [N, num_segments]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Feature map after temporal interlace shift. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5fcbf86b41be3fa915a933dfd4da3a91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DIOPI_API diopiError_t diopiUpfirdn2dOpMmcv </td>
          <td>(</td>
          <td class="paramtype">diopiContextHandle_t&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiTensorHandle_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">diopiConstTensorHandle_t&#160;</td>
          <td class="paramname"><em>kernel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>up_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>up_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>down_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>down_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pad_x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pad_x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pad_y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pad_y1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UpFRIDn for 2d features. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>diopi context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">input</td><td>Tensor with shape of (n, c, h, w). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">kernel</td><td>Filter kernel. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">up_x,up_y</td><td>up (int | tuple[int], optional): Upsampling factor. If given a number, we will use this factor for the both height and width side. Defaults to 1. up_x, up_y = up </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">down_x,down_y</td><td>down (int | tuple[int], optional): Downsampling factor. If given a number, we will use this factor for the both height and width side. Defaults to 1. down_x, down_y = down </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pad_x0,pad_x1,pad_y0,pad_y1</td><td>pad (tuple[int], optional): Padding for tensors, (x_pad, y_pad) or (x_pad_0, x_pad_1, y_pad_0, y_pad_1). Defaults to (0, 0). pad_x0, pad_x1, pad_y0, pad_y1 = pad </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Tensor after UpFIRDn. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
